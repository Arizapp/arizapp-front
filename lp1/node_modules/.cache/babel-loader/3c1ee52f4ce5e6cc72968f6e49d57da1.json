{"ast":null,"code":"var _jsxFileName = \"/Applications/XAMPP/xamppfiles/htdocs/nodejs/reactjs/arizapp/lp1/src/pages/home/cadastro.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { AccountCircle, ArrowForwardIos, Lock, WhatsApp } from '@material-ui/icons';\nimport { ButtonDefault } from '../../components/buttons/default';\nimport { ButtonPrimary } from '../../components/buttons/primary';\nimport './index.scss';\nimport { QueroConhecer } from './queroConhecer';\nimport { useAuth } from '../../hooks/Auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function CadastroPage() {\n  _s();\n\n  var authContexted = useAuth();\n  let userHistory = useHistory();\n  const [asideContent, setAsideContentState] = useState('default');\n\n  const setAsideContentOnClick = function (content) {\n    setAsideContentState(content);\n    return;\n  };\n\n  const AsideDefaultContent = function () {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Arizapp\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ButtonDefault, {\n        onClick: ev => {\n          return setAsideContentOnClick('queroConhecer');\n        },\n        children: \"Quero conhecer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  };\n\n  function goTo(urlPath) {\n    userHistory.push(urlPath);\n    return;\n  }\n\n  function singUpFormSubmit(ev) {\n    ev.preventDefault();\n    const target = ev.target; //Verificar porque os dados não estão sendo enviados\n\n    Z.ajax({\n      url: 'http://localhost:8181/Administracao/user/publicApi/createAccount/',\n      method: 'POST',\n      response_type: 'json',\n      with_credentials: false,\n      //headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n      data: {\n        hostname: target.username.value + \".alunocleber\",\n        hostserver: \"sv1.arizapp.com.br\",\n        whatsapp: target.whatsapp.value,\n        username: target.username.value,\n        password: target.password.value,\n        accesskey: \"ALUNOCLEBERV1\",\n        titulo: \"Nome da empresa\",\n        descricao: \"Cadastro em andamento\",\n        endereco: \"Endereço comercial de atendimento.\"\n      },\n      success: function (data) {\n        console.log('Success ajax function return: ', data);\n\n        if (!data.success) {\n          signUpHandleError(data);\n          return;\n        }\n\n        signUpHandleSuccess(data);\n      },\n      error: function (response) {\n        console.log('Error ajax function return: ', (response === null || response === void 0 ? void 0 : response.responseJSON) || response);\n        signUpHandleError((response === null || response === void 0 ? void 0 : response.responseJSON) || {\n          success: false,\n          error: 'unknown_error',\n          msg: 'Erro não conhecido.'\n        });\n      }\n    });\n    console.log('Form Event target:', target.whatsapp.value, target.username.value, target.password.value);\n    return false;\n  }\n\n  async function signUpHandleSuccess(data) {\n    var _data$data, _data$data$cliente_ho, _data$data2, _data$data2$usuario_d, _data$data3, _data$data3$usuario_d;\n\n    const [hostName, username, password] = [((_data$data = data.data) === null || _data$data === void 0 ? void 0 : (_data$data$cliente_ho = _data$data.cliente_host_data) === null || _data$data$cliente_ho === void 0 ? void 0 : _data$data$cliente_ho.host) || 'no-host-founded', ((_data$data2 = data.data) === null || _data$data2 === void 0 ? void 0 : (_data$data2$usuario_d = _data$data2.usuario_data) === null || _data$data2$usuario_d === void 0 ? void 0 : _data$data2$usuario_d.username) || '-', ((_data$data3 = data.data) === null || _data$data3 === void 0 ? void 0 : (_data$data3$usuario_d = _data$data3.usuario_data) === null || _data$data3$usuario_d === void 0 ? void 0 : _data$data3$usuario_d.password) || '-'];\n    console.log('signUpHandleSuccess: ', data);\n\n    if (1 === 1) {\n      var singInResult = await authContexted.singIn({\n        hostname: hostName,\n        username: username,\n        password: password\n      });\n    } else {\n      Z.ajax({\n        method: 'POST',\n        url: 'http://localhost:8181/Login/index/sign/',\n        with_credentials: true,\n        headers: {\n          \"Authorization\": \"Credentials \" + hostName + \":\" + username + \"@\" + password\n        },\n        data: {\n          remember_me: true\n        },\n        success: function (data) {\n          console.log('Login response: ', data);\n        },\n        error: function (response) {\n          console.log((response === null || response === void 0 ? void 0 : response.responseJSON) || response);\n        }\n      });\n    }\n  }\n\n  function signUpHandleError(dataHandle) {\n    var _dataHandle$fields_mi;\n\n    /**\n     * @type {Record<string, string>}\n     */\n    var errorsLabel = {\n      'field_missing': {\n        msg: 'O(s) campos obrigatório(s) pela requisição [' + ((dataHandle === null || dataHandle === void 0 ? void 0 : (_dataHandle$fields_mi = dataHandle.fields_missing) === null || _dataHandle$fields_mi === void 0 ? void 0 : _dataHandle$fields_mi.join(',')) || '') + '] não foi/foram recebido(s)'\n      },\n      'required_fields_validate_error': {\n        msg: 'Houve um erro não identificado sobre os campos obrigatórios da requisição. Por favor tente novamente.'\n      },\n      'define_account_data_error': {\n        msg: 'Houve um erro ao definir os dados da conta. Por favor tente novamente.'\n      },\n      'client_host_already_exist': {\n        msg: 'Já existe um cliente com o mesmo nome de usuário.'\n      },\n      'search_for_existent_client_host_error': {\n        msg: 'Houve um erro ao verificar se já existe um cliente com o mesmo nome de usuário.'\n      },\n      'create_client_host_error': {\n        msg: 'Houve um erro ao criar a conta do cliente.'\n      },\n      'user_already_exist': {\n        msg: 'Usuário já existe no sistema.'\n      },\n      'search_for_existent_user_error': {\n        msg: 'Houve um erro ao verificar se já existe um usuário.'\n      },\n      'service_menu_not_found': {\n        msg: 'Menu de atendimento padrão do sistema não encontrado para criar a conta.'\n      },\n      'client_host_already_exist_and_was_not_deleted': {\n        msg: 'Houve um erro ao tentar deletar os dados de cliente cadastrado com erro. Tente se cadastrar novamente.'\n      },\n      'get_service_menu_error': {\n        msg: 'Erro ao buscar o menu de atendimento padrão do sistema para criação da conta.'\n      },\n      'client_host_was_not_deleted': {\n        msg: 'Houve um erro ao tentar deletar os dados de cliente com erro. Tente se cadastrar novamente.'\n      },\n      'rewrite_request_to_user_data_error': {\n        msg: 'Houve um erro ao formatar os dados da requisição para criação do usuário.'\n      },\n      'create_user_error': {\n        msg: 'Erro ao tentar criar o usuário'\n      },\n      'field_type_error': {\n        msg: 'O tipo do campo ' + ((dataHandle === null || dataHandle === void 0 ? void 0 : dataHandle.field) || '-') + ' recebido não é válido! Tente novamente.'\n      },\n      //field\n      'field_length_error': {\n        msg: 'A quantidade de caracteres do campo ' + ((dataHandle === null || dataHandle === void 0 ? void 0 : dataHandle.field) || '-') + ' não são suficientes.'\n      },\n      //field\n      'set_whatsapp_number_error': {\n        msg: 'O número de whatsapp fornecido não está correto!'\n      },\n      'user_was_not_deleted': {\n        msg: 'Erro ao tentar deletar os dados do usuário com erro. Por favor tente novamente.'\n      },\n      'rewrite_request_to_zap_numero_data_error': {\n        msg: 'Houve um erro ao formatar os dados da requisição para criação do número Whatsapp. Por favor tente novamente.'\n      },\n      'create_zap_numero_error': {\n        msg: 'Erro ao tentar criar o número Whatsapp'\n      },\n      'unknown_error': {\n        msg: 'Houve um erro desconhecido no sistema. Por favor, tente novamente mais tarde.'\n      }\n    };\n    var errorLabelList = (dataHandle === null || dataHandle === void 0 ? void 0 : dataHandle.error) && dataHandle.error.split(';') || [];\n    errorLabelList.map(errorLabel => {\n      var _errorsLabel$label;\n\n      var label = errorLabel;\n      var errorMessage = ((_errorsLabel$label = errorsLabel[label]) === null || _errorsLabel$label === void 0 ? void 0 : _errorsLabel$label.msg) || '-';\n      alert(errorMessage);\n      return errorMessage;\n    });\n    return;\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    children: [/*#__PURE__*/_jsxDEV(\"aside\", {\n      children: [asideContent === 'queroConhecer' ? /*#__PURE__*/_jsxDEV(QueroConhecer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 54\n      }, this) : /*#__PURE__*/_jsxDEV(AsideDefaultContent, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 74\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: event => {\n          goTo('/login');\n        },\n        children: \"Go to Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content-indicate arrow\",\n        children: [/*#__PURE__*/_jsxDEV(ArrowForwardIos, {\n          sx: {\n            fontSize: '60px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Cadastrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"formContent\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            method: \"post\",\n            id: \"signUpForm\",\n            onSubmit: singUpFormSubmit,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"formContent-area formContent-header\",\n              children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                children: \"Cadastrar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"formContent-area formContent-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input-group inline\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: /*#__PURE__*/_jsxDEV(WhatsApp, {\n                    sx: {\n                      fontSize: '2.0em'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 185,\n                    columnNumber: 43\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control\",\n                  name: \"whatsapp\",\n                  placeholder: \"Whatsapp\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input-group inline\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: /*#__PURE__*/_jsxDEV(AccountCircle, {\n                    sx: {\n                      fontSize: '2.0em'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 189,\n                    columnNumber: 43\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  className: \"form-control\",\n                  name: \"username\",\n                  placeholder: \"Username\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input-group inline\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: /*#__PURE__*/_jsxDEV(Lock, {\n                    sx: {\n                      fontSize: '2.0em'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 193,\n                    columnNumber: 43\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"password\",\n                  className: \"form-control\",\n                  name: \"password\",\n                  placeholder: \"Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"formContent-area formContent-footer\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input-group inline\",\n                children: /*#__PURE__*/_jsxDEV(ButtonPrimary, {\n                  className: \"form-control\",\n                  children: \"Entrar\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/login\",\n                children: \"Entrar na sua conta\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 167,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CadastroPage, \"5gw1XD3Ge77UKc94Hhcpe0VrN9w=\", false, function () {\n  return [useAuth, useHistory];\n});\n\n_c = CadastroPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"CadastroPage\");","map":{"version":3,"sources":["/Applications/XAMPP/xamppfiles/htdocs/nodejs/reactjs/arizapp/lp1/src/pages/home/cadastro.tsx"],"names":["useState","Link","useHistory","AccountCircle","ArrowForwardIos","Lock","WhatsApp","ButtonDefault","ButtonPrimary","QueroConhecer","useAuth","CadastroPage","authContexted","userHistory","asideContent","setAsideContentState","setAsideContentOnClick","content","AsideDefaultContent","ev","goTo","urlPath","push","singUpFormSubmit","preventDefault","target","Z","ajax","url","method","response_type","with_credentials","data","hostname","username","value","hostserver","whatsapp","password","accesskey","titulo","descricao","endereco","success","console","log","signUpHandleError","signUpHandleSuccess","error","response","responseJSON","msg","hostName","cliente_host_data","host","usuario_data","singInResult","singIn","headers","remember_me","dataHandle","errorsLabel","fields_missing","join","field","errorLabelList","split","map","errorLabel","label","errorMessage","alert","event","fontSize"],"mappings":"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","sourcesContent":["import { FormEvent, useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { AccountCircle, ArrowForwardIos, Lock, WhatsApp } from '@material-ui/icons';\nimport { ButtonDefault } from '../../components/buttons/default';\nimport { ButtonPrimary } from '../../components/buttons/primary';\nimport './index.scss';\nimport { QueroConhecer } from './queroConhecer';\nimport { useAuth, singInFunctionProps } from '../../hooks/Auth';\nexport type singHandleProps = {\n    success: boolean;\n    error?: \"field_missing\" | \"required_fields_validate_error\" | \"define_account_data_error\" | \"client_host_already_exist\" | \"search_for_existent_client_host_error\" | \"create_client_host_error\" | \"user_already_exist\" | \"search_for_existent_user_error\" | \"service_menu_not_found\" | \"client_host_already_exist_and_was_not_deleted\" | \"get_service_menu_error\" | \"client_host_was_not_deleted\" | \"rewrite_request_to_user_data_error\" | \"create_user_error\" | \"field_type_error\" | \"field_length_error\" | \"set_whatsapp_number_error\" | \"user_was_not_deleted\" | \"rewrite_request_to_zap_numero_data_error\" | \"create_zap_numero_error\" | \"unknown_error\";\n    field?: string;\n    fields_missing?: Array<string>;\n    msg: string;\n    data?: {\n        cliente_host_data?: {\n            id: number;\n            host: string;\n        };\n        usuario_data?: {\n            id: number;\n            username: string;\n            password: string;\n        };\n        zap_numero_data?: {\n            id: number;\n            usuarios_menus_de_atendimento_id: number;\n            zap_numero_codigo_pais: number;\n            zap_numero_codigo_de_area: number;\n            zap_numero: number;\n        };\n    }\n};\n\nexport function CadastroPage() {\n    var authContexted = useAuth();\n\n    let userHistory = useHistory();\n    const [asideContent, setAsideContentState] = useState('default');\n    const setAsideContentOnClick = function (content: string) {\n        setAsideContentState(content);\n        return;\n    }\n    const AsideDefaultContent = function (): JSX.Element {\n        return (\n            <>\n                <h1>Arizapp</h1>\n                <ButtonDefault onClick={(ev) => { return setAsideContentOnClick('queroConhecer'); }}>Quero conhecer</ButtonDefault>\n            </>\n        );\n    }\n\n    function goTo(urlPath: string) {\n        userHistory.push(urlPath);\n        return;\n    }\n\n    function singUpFormSubmit(ev: FormEvent<HTMLFormElement>) {\n        ev.preventDefault();\n        const target = ev.target as typeof ev.target & {\n            whatsapp: { value: string };\n            username: { value: string };\n            password: { value: string };\n        };\n        //Verificar porque os dados não estão sendo enviados\n        Z.ajax({\n            url: 'http://localhost:8181/Administracao/user/publicApi/createAccount/',\n            method: 'POST',\n            response_type: 'json',\n            with_credentials: false,\n            //headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n            data: {\n                hostname: target.username.value + \".alunocleber\",\n                hostserver: \"sv1.arizapp.com.br\",\n                whatsapp: target.whatsapp.value,\n                username: target.username.value,\n                password: target.password.value,\n                accesskey: \"ALUNOCLEBERV1\",\n                titulo: \"Nome da empresa\",\n                descricao: \"Cadastro em andamento\",\n                endereco: \"Endereço comercial de atendimento.\"\n            },\n            success: function (data: singHandleProps) {\n                console.log('Success ajax function return: ', data);\n                if (!data.success) {\n                    signUpHandleError(data);\n                    return;\n                }\n                signUpHandleSuccess(data);\n            },\n            error: function (response) {\n                console.log('Error ajax function return: ', (response?.responseJSON || response));\n                signUpHandleError((response?.responseJSON || { success: false, error: 'unknown_error', msg: 'Erro não conhecido.' }));\n            }\n\n        });\n        console.log('Form Event target:', target.whatsapp.value, target.username.value, target.password.value);\n        return false;\n    }\n\n    async function signUpHandleSuccess(data: singHandleProps) {\n        const [hostName, username, password] = [(data.data?.cliente_host_data?.host || 'no-host-founded'), (data.data?.usuario_data?.username || '-'), (data.data?.usuario_data?.password || '-')];\n        console.log('signUpHandleSuccess: ', data);\n        if (1 === 1) {\n            var singInResult = await authContexted.singIn({\n                hostname: hostName,\n                username: username,\n                password: password,\n            });\n        } else {\n            Z.ajax({\n                method: 'POST',\n                url: 'http://localhost:8181/Login/index/sign/',\n                with_credentials: true,\n                headers: { \"Authorization\": \"Credentials \" + hostName + \":\" + username + \"@\" + password, },\n                data: { remember_me: true },\n                success: function (data) {\n                    console.log('Login response: ', data);\n                },\n                error: function (response) {\n                    console.log(response?.responseJSON || response);\n                }\n            });\n        }\n\n    }\n\n    function signUpHandleError(dataHandle: singHandleProps) {\n        /**\n         * @type {Record<string, string>}\n         */\n        var errorsLabel = {\n            'field_missing': { msg: 'O(s) campos obrigatório(s) pela requisição [' + (dataHandle?.fields_missing?.join(',') || '') + '] não foi/foram recebido(s)' },\n            'required_fields_validate_error': { msg: 'Houve um erro não identificado sobre os campos obrigatórios da requisição. Por favor tente novamente.' },\n            'define_account_data_error': { msg: 'Houve um erro ao definir os dados da conta. Por favor tente novamente.' },\n            'client_host_already_exist': { msg: 'Já existe um cliente com o mesmo nome de usuário.' },\n            'search_for_existent_client_host_error': { msg: 'Houve um erro ao verificar se já existe um cliente com o mesmo nome de usuário.' },\n            'create_client_host_error': { msg: 'Houve um erro ao criar a conta do cliente.' },\n            'user_already_exist': { msg: 'Usuário já existe no sistema.' },\n            'search_for_existent_user_error': { msg: 'Houve um erro ao verificar se já existe um usuário.' },\n            'service_menu_not_found': { msg: 'Menu de atendimento padrão do sistema não encontrado para criar a conta.' },\n            'client_host_already_exist_and_was_not_deleted': { msg: 'Houve um erro ao tentar deletar os dados de cliente cadastrado com erro. Tente se cadastrar novamente.' },\n            'get_service_menu_error': { msg: 'Erro ao buscar o menu de atendimento padrão do sistema para criação da conta.' },\n            'client_host_was_not_deleted': { msg: 'Houve um erro ao tentar deletar os dados de cliente com erro. Tente se cadastrar novamente.' },\n            'rewrite_request_to_user_data_error': { msg: 'Houve um erro ao formatar os dados da requisição para criação do usuário.' },\n            'create_user_error': { msg: 'Erro ao tentar criar o usuário' },\n            'field_type_error': { msg: 'O tipo do campo ' + (dataHandle?.field || '-') + ' recebido não é válido! Tente novamente.' },//field\n            'field_length_error': { msg: 'A quantidade de caracteres do campo ' + (dataHandle?.field || '-') + ' não são suficientes.' },//field\n            'set_whatsapp_number_error': { msg: 'O número de whatsapp fornecido não está correto!' },\n            'user_was_not_deleted': { msg: 'Erro ao tentar deletar os dados do usuário com erro. Por favor tente novamente.' },\n            'rewrite_request_to_zap_numero_data_error': { msg: 'Houve um erro ao formatar os dados da requisição para criação do número Whatsapp. Por favor tente novamente.' },\n            'create_zap_numero_error': { msg: 'Erro ao tentar criar o número Whatsapp' },\n            'unknown_error': { msg: 'Houve um erro desconhecido no sistema. Por favor, tente novamente mais tarde.' }\n        };\n\n        var errorLabelList = (dataHandle?.error && dataHandle.error.split(';') || []);\n        errorLabelList.map(errorLabel => {\n            var label = errorLabel as keyof typeof errorsLabel;\n            var errorMessage = (errorsLabel[label]?.msg || '-');\n            alert(errorMessage);\n            return errorMessage;\n        });\n        return;\n    }\n\n    return (\n        <main>\n            <aside>\n                {(asideContent === 'queroConhecer' ? <QueroConhecer /> : <AsideDefaultContent />)}\n                <button onClick={event => { goTo('/login') }}>Go to Login</button>\n            </aside>\n            <div className=\"content\">\n                <div className=\"content-indicate arrow\">\n                    <ArrowForwardIos sx={{ fontSize: '60px' }} />\n                    <span>Cadastrar</span>\n                </div>\n                <div className=\"content-container\">\n                    <div className=\"formContent\">\n                        <form method=\"post\" id=\"signUpForm\" onSubmit={singUpFormSubmit}>\n                            <div className=\"formContent-area formContent-header\">\n                                <h1>Cadastrar</h1>\n                            </div>\n                            <div className=\"formContent-area formContent-body\">\n                                <div className=\"input-group inline\">\n                                    <span><WhatsApp sx={{ fontSize: '2.0em' }} /></span>\n                                    <input type=\"text\" className=\"form-control\" name=\"whatsapp\" placeholder=\"Whatsapp\" />\n                                </div>\n                                <div className=\"input-group inline\">\n                                    <span><AccountCircle sx={{ fontSize: '2.0em' }} /></span>\n                                    <input type=\"text\" className=\"form-control\" name=\"username\" placeholder=\"Username\" />\n                                </div>\n                                <div className=\"input-group inline\">\n                                    <span><Lock sx={{ fontSize: '2.0em' }} /></span>\n                                    <input type=\"password\" className=\"form-control\" name=\"password\" placeholder=\"Password\" />\n                                </div>\n                            </div>\n                            <div className=\"formContent-area formContent-footer\">\n                                <div className=\"input-group inline\">\n                                    <ButtonPrimary className=\"form-control\">Entrar</ButtonPrimary>\n                                </div>\n                                <Link to=\"/login\">Entrar na sua conta</Link>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </main>\n    );\n}"]},"metadata":{},"sourceType":"module"}